
<ion-view  class="common-view-color" view-title="通知">

  <ion-nav-bar align-title="center" class="newbarhead">
    <ion-nav-buttons >
      <ion-toggle1 ng-checked="appstatus" class="item-borderless"
                   style="position: absolute;top:0px;right:0px;height: 45px;width:160px;margin-top: -10px;background: transparent;"
                   ng-click="changeSlide(newdex)">
      </ion-toggle1>
    </ion-nav-buttons>
  </ion-nav-bar>


  <ion-content id="notification" delegate-handle="scrollTop" overflow-scroll="false" ng-click="clickAny()" on-drag="clickAny()">

    <div class="row myNetwork" ng-if=shownetstatus>
      <div class="col" align="center"> <img src="img/nonet.png"/></div>
      <div class="col col-80">网络连接不可用，请检查网络设置。</div>
    </div>

    <ion-slide-box active-slide="index" class="baifenbai" does-continue="false" show-pager="false"
                   pager-click="go(index)" on-slide-changed="go_changed(index)" >
      <ion-slide  class="notificationIonSide">

        <ion-list no-lines>
          <ion-item  class="item-remove-animate item-avatar rj-notify-bg ionItemFirst" ng-repeat="item in notifyNewList" >

            <div>
              <!--item顶部的长条-->
              <!--<div class="topBg clearfix" style="background:#DADADA;" ng-if="item.IsReaded"><img  class="itemTopBgImg" src="img/upnotificgray.png"></div>-->
              <!--<div class="topBg clearfix" style="background:#1D95D4;" ng-if="!item.IsReaded"><img class="itemTopBgImg" src="img/upnotific.png"></div>-->

              <!--通知-->
              <div class="row" style="background:#E0E0E0;">
                <div class="col clearfix">

                  <!--通知类型对应的图片信息-->
                  <div class="notifyImgInfo" style="float: left;margin-right:10px;">
                    <img src="{{item.appIcon}}" alt="通知类型头像" style="width:55px;height:55px;">
                  </div>

                  <!--通知的详细信息-->
                  <div class="notifyDetailInfo" style="width:100%;">

                    <div class="infoTop" style="width:100%;position: relative;">

                      <!--名称-->
                      <h3>{{item.FromName}}</h3>
                      <!--时间-->
                      <span style="position: absolute;top:0px;right:0px;">{{item.MsgDate | date:'MM-dd HH:mm'}}</span>
                      <!--报警等级-->
                      <span style="color:#FF5722;position: absolute;top:20px;right:0px;">{{item.LevelName}}</span>
                    </div>

                    <!--标题-->
                    <div class="notifyTitle">
                      <pre class="preTitle" style="text-overflow: ellipsis;white-space: nowrap;overflow: hidden;">标题:{{item.Title}}</pre>
                    </div>

                    <!--附件-->
                    <div class="notify">
                      <pre style="text-overflow: ellipsis;white-space: nowrap;overflow: hidden;"><a ng-click="gonet(item.Link)">点击查看附件</a></pre>
                    </div>
                  </div>
                </div>
              </div>

              <!-- 已确认、未确认-->
              <div class="row confirm" ng-if="item.IsReaded" style="background:#00BCD4;" ng-click="goNotifyDetail(item)">
                <div class="col">
                  <span ng-if="item.IsReaded">已确认</span>
                  <span ng-if="!item.IsReaded">未确认</span>
                  <img src="img/notificationArrow.png" height="14px">
                </div>
              </div>
              <div class="row confirm"  ng-if="!item.IsReaded" style="background:#1D95D4;" ng-click="goNotifyDetail(item)">
                <div class="col">
                  <span ng-if="item.IsReaded">已确认</span>
                  <span ng-if="!item.IsReaded">未确认</span>
                  <img src="img/notificationArrow.png" height="14px">
                </div>
              </div>

              <!-- 操作按钮-->
              <div class="row topFocus" >
                <div class="col">
                  <!--置顶-->
                  <img class="rj-push-rightright" ng-if="item.IsToped" src="img/toptp.png">
                  <img class="rj-push-rightright" ng-if="!item.IsToped" src="img/toptop1.png">

                </div>
                <div class="col">
                  <!--关注-->
                  <img ng-if="item.IsAttention" src="img/focuseye.png">
                  <img ng-if="!item.IsAttention" src="img/focuseye1.png">

                </div>
                <div class="col">
                  <!--等级-->
                  <span class="rj-push-rightdown" ng-if="item.Level=='3'" ><img src="img/alert.png" alt=""><span>3</span></span>
                  <span class="rj-push-rightdown" ng-if="item.Level=='2'" ><img src="img/alert.png" alt=""><span>2</span></span>
                  <span class="rj-push-rightdown" ng-if="item.Level=='1'" ><img src="img/alert.png" alt=""><span>1</span></span>
                  <span class="rj-push-rightdown" ng-if="item.Level=='0'" ></span>
                </div>
              </div>
            </div>
          </ion-item>
        </ion-list>

      </ion-slide>

      <ion-slide class="notificationIonSide">
        <ion-list no-lines>
          <ion-item  class="item-remove-animate item-avatar rj-notify-bg " ng-repeat="item in notifyNewList" ng-if="item.IsAttention" >
            <div>
              <!--item顶部的长条-->
              <!--<div class="topBg clearfix" ng-if="item.IsReaded"><img  class="itemTopBgImg" src="img/upnotificgray.png"></div>-->
              <!--<div class="topBg classlearfix" ng-if="!item.IsReaded"><img class="itemTopBgImg" src="img/upnotific.png"></div>-->

              <!--通知-->
              <div class="row">
                <div class="col clearfix" >

                  <!--通知显示相应的图片信息-->
                  <div class="notifyImgInfo" style="float: left;margin-right:10px;">
                    <img src="{{item.appIcon}}" alt="通知类型头像" style="width:55px;height:55px;">
                  </div>

                  <!--通知的详细信息-->
                  <div class="notifyDetailInfo" style="width:100%;">

                    <div class="infoTop" style="width:100%;position: relative;">

                      <!--名称-->
                      <h3>{{item.FromName}}</h3>
                      <!--时间-->
                      <span style="position: absolute;top:0px;right:0px;">{{item.MsgDate | date:'MM-dd HH:mm'}}</span>
                      <!--报警等级-->
                      <span style="color:#FF5722;position: absolute;top:20px;right:0px;">{{item.LevelName}}</span>
                    </div>

                    <!--标题-->
                    <div class="notifyTitle">
                      <pre class="preTitle" style="text-overflow: ellipsis;white-space: nowrap;overflow: hidden;">标题:{{item.Title}}</pre>
                    </div>

                    <!--附件-->
                    <div class="notify">
                      <pre style="text-overflow: ellipsis;white-space: nowrap;overflow: hidden;"><a ng-click="gonet(item.Link)">点击查看附件</a></pre>
                    </div>
                  </div>
              </div>
              </div>

              <!--确认信息：已确认、未确认、箭头-->
              <div class="row confirm" ng-if="item.IsReaded" style="background:#00BCD4;" ng-click="goNotifyDetail(item)">
                <div class="col">
                  <span ng-if="item.IsReaded">已确认</span>
                  <span ng-if="!item.IsReaded">未确认</span>
                  <img src="img/notificationArrow.png" height="14px">
                </div>
              </div>
              <div class="row confirm"  ng-if="!item.IsReaded" style="background:#1D95D4;" ng-click="goNotifyDetail(item)">
                <div class="col">
                  <span ng-if="item.IsReaded">已确认</span>
                  <span ng-if="!item.IsReaded">未确认</span>
                  <img src="img/notificationArrow.png" height="14px">
                </div>
              </div>
              <!-- 操作按钮-->
              <div class="row topFocus">
                <div class="col">
                  <!--置顶-->
                  <img class="rj-push-rightright" ng-if="item.IsToped" src="img/toptp.png">
                  <img class="rj-push-rightright" ng-if="!item.IsToped" src="img/toptop1.png">

                </div>
                <div class="col">
                  <!--关注-->
                  <img ng-if="item.IsAttention" src="img/focuseye.png">
                  <img ng-if="!item.IsAttention" src="img/focuseye1.png">

                </div>
                <div class="col">
                  <!--等级-->
                  <span class="rj-push-rightdown" ng-if="item.Level=='3'" ><img src="img/alert.png" alt=""><span>3</span></span>
                  <span class="rj-push-rightdown" ng-if="item.Level=='2'" ><img src="img/alert.png" alt=""><span>2</span></span>
                  <span class="rj-push-rightdown" ng-if="item.Level=='1'" ><img src="img/alert.png" alt=""><span>1</span></span>
                  <span class="rj-push-rightdown" ng-if="item.Level=='0'" ></span>

                </div>
              </div>
            </div>

          </ion-item>
        </ion-list>
      </ion-slide>
    </ion-slide-box>

    <ion-infinite-scroll immediate-check="false" ng-if="notifyStatus" on-infinite="loadMoreNotify()" distance="1%" ></ion-infinite-scroll>
  </ion-content>

</ion-view>
